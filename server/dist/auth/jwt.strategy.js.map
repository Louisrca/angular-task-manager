{"version":3,"sources":["../../src/auth/jwt.strategy.ts"],"sourcesContent":["import { ExtractJwt, Strategy } from 'passport-jwt';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable } from '@nestjs/common';\nimport { jwtConstants } from './constants';\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor() {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      ignoreExpiration: false,\n      secretOrKey: jwtConstants.secret,\n    });\n  }\n\n  async validate(payload: any) {\n    return { userId: payload.sub, username: payload.username, role: payload.role };\n  }\n}\n"],"names":["JwtStrategy","PassportStrategy","Strategy","validate","payload","userId","sub","username","role","jwtFromRequest","ExtractJwt","fromAuthHeaderAsBearerToken","ignoreExpiration","secretOrKey","jwtConstants","secret"],"mappings":";;;;+BAMaA;;;eAAAA;;;6BANwB;0BACJ;wBACN;2BACE;;;;;;;;;;AAGtB,IAAA,AAAMA,cAAN,MAAMA,oBAAoBC,IAAAA,0BAAgB,EAACC,qBAAQ;IASxD,MAAMC,SAASC,OAAY,EAAE;QAC3B,OAAO;YAAEC,QAAQD,QAAQE,GAAG;YAAEC,UAAUH,QAAQG,QAAQ;YAAEC,MAAMJ,QAAQI,IAAI;QAAC;IAC/E;IAVA,aAAc;QACZ,KAAK,CAAC;YACJC,gBAAgBC,uBAAU,CAACC,2BAA2B;YACtDC,kBAAkB;YAClBC,aAAaC,uBAAY,CAACC,MAAM;QAClC;IACF;AAKF"}