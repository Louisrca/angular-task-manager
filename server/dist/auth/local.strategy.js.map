{"version":3,"sources":["../../src/auth/local.strategy.ts"],"sourcesContent":["import { Strategy } from 'passport-local';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class LocalStrategy extends PassportStrategy(Strategy) {\n  constructor(private authService: AuthService) {\n    super();\n  }\n\n  async validate(username: string, pass: string): Promise<any> {\n    const user = await this.authService.validateUser(username, pass);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n    return user;\n  }\n}\n"],"names":["LocalStrategy","PassportStrategy","Strategy","validate","username","pass","user","authService","validateUser","UnauthorizedException"],"mappings":";;;;+BAMaA;;;eAAAA;;;+BANY;0BACQ;wBACiB;6BACtB;;;;;;;;;;AAGrB,IAAA,AAAMA,gBAAN,MAAMA,sBAAsBC,IAAAA,0BAAgB,EAACC,uBAAQ;IAK1D,MAAMC,SAASC,QAAgB,EAAEC,IAAY,EAAgB;QAC3D,MAAMC,OAAO,MAAM,IAAI,CAACC,WAAW,CAACC,YAAY,CAACJ,UAAUC;QAC3D,IAAI,CAACC,MAAM;YACT,MAAM,IAAIG,6BAAqB;QACjC;QACA,OAAOH;IACT;IAVA,YAAY,AAAQC,WAAwB,CAAE;QAC5C,KAAK,SADaA,cAAAA;IAEpB;AASF"}