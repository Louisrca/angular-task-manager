{"version":3,"sources":["../../src/users/users.controller.ts"],"sourcesContent":["import { Controller, Get, UseGuards } from '@nestjs/common';\nimport { UsersService } from './users.service';\nimport { ApiTags, ApiOperation, ApiResponse, ApiBearerAuth } from '@nestjs/swagger';\nimport { JwtAuthGuard } from '../auth/jwt-auth.guard';\nimport { RolesGuard } from '../auth/roles.guard';\nimport { Roles } from '../auth/roles.decorator';\nimport { UserRole } from './entities/role.enum';\nimport { User } from './entities/user.entity';\n\n@ApiTags('Utilisateurs')\n@ApiBearerAuth()\n@UseGuards(JwtAuthGuard, RolesGuard)\n@Controller('users')\nexport class UsersController {\n  constructor(private readonly usersService: UsersService) {}\n\n  @Get()\n  @Roles(UserRole.ADMIN) // Seul l'Admin peut voir la liste des utilisateurs\n  @ApiOperation({ summary: 'Lister tous les utilisateurs (Admin seulement)' })\n  @ApiResponse({\n    status: 200,\n    description: 'Liste de tous les utilisateurs enregistrés.',\n    type: [User],\n  })\n  @ApiResponse({ status: 401, description: 'Non authentifié.' })\n  @ApiResponse({ status: 403, description: 'Interdit (Réservé aux admins).' })\n  findAll() {\n    return this.usersService.findAll();\n  }\n}\n"],"names":["UsersController","findAll","usersService","ADMIN","summary","status","description","type","User"],"mappings":";;;;+BAaaA;;;eAAAA;;;wBAb8B;8BACd;yBACqC;8BACrC;4BACF;gCACL;0BACG;4BACJ;;;;;;;;;;AAMd,IAAA,AAAMA,kBAAN,MAAMA;IAaXC,UAAU;QACR,OAAO,IAAI,CAACC,YAAY,CAACD,OAAO;IAClC;IAdA,YAAY,AAAiBC,YAA0B,CAAE;aAA5BA,eAAAA;IAA6B;AAe5D;;;kDAZkBC;;QACAC,SAAS;;;QAEvBC,QAAQ;QACRC,aAAa;QACbC,MAAM;YAACC,gBAAI;SAAC;;;QAECH,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa"}